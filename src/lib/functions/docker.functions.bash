#!/usr/bin/env bash
####################################################################
# docker.functions.bash
####################################################################
# Author:       Ragdata
# Date:         02/07/2025
# License:      MIT License
# Repository:	https://github.com/Ragdata/.dotfiles
# Copyright:    Copyright Â© 2025 Redeyed Technologies
####################################################################

# ------------------------------------------------------------------
# dc
# ------------------------------------------------------------------
dc() { docker compose "${1}"; }
# ------------------------------------------------------------------
# dcup
# ------------------------------------------------------------------
dcup() { docker compose -f "${1:-docker-compose.yml}" up -d; }
# ------------------------------------------------------------------
# dcdown
# ------------------------------------------------------------------
dcdown() { docker compose -f "${1:-docker-compose.yml}" down; }
# ------------------------------------------------------------------
# dkex
# ------------------------------------------------------------------
dkex() { docker exec -it "${1}" "${2:-bash}"; }
# ------------------------------------------------------------------
# dknames
# ------------------------------------------------------------------
dknames()
{
    for ID in "$(docker ps | awk '{print $1}' | grep -v 'CONTAINER')"
    do
        docker inspect $ID | grep Name | head -1 | awk '{print $2}' | sed 's/,//g' | sed 's%/%%g' | sed 's/"//g'
    done
}
# ------------------------------------------------------------------
# dkin
# ------------------------------------------------------------------
dkin() { docker inspect "${1}"; }
# ------------------------------------------------------------------
# dkip
# ------------------------------------------------------------------
dkip()
{
    echoGold "IP Addresses of All Named Running Containers:"

    for DOC in "$(dknames)"
    do
        IP="$(docker inspect -f '{{range .NetworkSettings.Networks}}{{.IPAddress}}{{end}}' "$DOC")"
        OUT+=$DOC'\t'$IP'\n'
    done

    echo -e "$OUT" | column -t
    unset OUT
}

# ------------------------------------------------------------------
# dklab
# ------------------------------------------------------------------

# ------------------------------------------------------------------
# dklog
# ------------------------------------------------------------------

# ------------------------------------------------------------------
# dknames
# ------------------------------------------------------------------

# ------------------------------------------------------------------
# dkrm
# ------------------------------------------------------------------

# ------------------------------------------------------------------
# dcrun
# ------------------------------------------------------------------

# ------------------------------------------------------------------
# dkstart
# ------------------------------------------------------------------

# ------------------------------------------------------------------
# dkstop
# ------------------------------------------------------------------

